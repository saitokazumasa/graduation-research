<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<th:block th:fragment="googleMapsAPI">
    <script
        th:src="'https://maps.googleapis.com/maps/api/js?key=' + ${googleMapsApiKey} + '&callback=initialize&libraries=places&v=weekly'"
        async
        defer
    ></script>
    <script>
        function initialize() {
            // TODO: 以下を参照にControllerから引数として受け取る
            // const placeIds = ['ChIJh7eDrwCPGGARCs9fpCkKS2U', 'ChIJ9cqtKHTpGGAR48XfvUWXx5M', 'ChIJx289pMEqC18Ri7aK56qxdio'];
            // const travelModes = ['DRIVING', 'DRIVING'];
            // const options = {
            //     useHighway: true,
            //     useFerry: true,
            //     maxWalkingTime: 1
            // };
            // initializeMaps(placeIds, travelModes, options);
            initializeMaps();
            initAutoComplete();
            window.closePopup = function() {
                openPopupMap(placeIds,travelModes,options);
            }

        }
    </script>
</th:block>

<th:block th:fragment="header">
    <script src="/js/header.js"></script>
</th:block>

<th:block th:fragment="flowbite">
    <script src="/js/flowbite.min.js"></script>
</th:block>

<th:block th:fragment="map">
    <script src="/js/map.js"></script>
</th:block>

<th:block th:fragment="modal">
    <script th:inline="javascript">
        const initialPlaceNum = /*[[${placeNum}]]*/0; // 目的地の個数
        const isSetStart = /*[[${isSetStart}]]*/false; // 出発地点が既に登録されているか
        const isSetEnd = /*[[${isSetEnd}]]*/false; // 終了地点が既に登録されているか
        const isSetPlace = /*[[${isSetPlace}]]*/false; // 目的地が既に登録されているか
    </script>
    <script src="/js/autocomplete.js"></script>
    <script src="/js/errorMessage.js"></script>
    <script src="/js/formValidate.js"></script>
    <script src="/js/modalElement.js"></script>
    <script src="/js/modalForm.js"></script>
    <script src="/js/modal.js"></script>
</th:block>

<th:block th:fragment="svgThreeRadio">
    <script src="/js/svgThreeRadio.js"></script>
</th:block>

<th:block th:fragment="svgRadioButton">
    <script src="/js/svgRadioButton.js"></script>
</th:block>

<th:block th:fragment="redirect">
    <script src="/js/redirect.js"></script>
</th:block>

<th:block th:fragment="previewImage">
    <script src="/js/previewImage.js"></script>
</th:block>

<th:block th:fragment="closeMailConfirm">
    <script>
        function closeMailConfirm() {
            document.getElementById('popup').classList.add('hidden');
        }
    </script>
</th:block>

<th:block th:fragment="top">
    <script src="/js/top.js"></script>
</th:block>

<th:block th:fragment="packing">
    <script src="/js/packings.js"></script>
</th:block>

<th:block th:fragment="planEdit">
    <script src="/js/editForm.js"></script>
    <script src="/js/editButtons.js"></script>
</th:block>
</body>
</html>
