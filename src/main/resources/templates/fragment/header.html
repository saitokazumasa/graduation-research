<!DOCTYPE html>
<html lang="ja" xmlns:sec="http://www.w3.org/1999/xhtml">
<body>
<th:block th:fragment="header">
    <header class="w-full">
        <nav class="box-border border-2 h-14 sm:h-28 flex items-center justify-between px-3 whitespace-nowrap z-50">
            <div class="flex items-center">
                <img th:src="@{/images/icon.png}" alt="たびすけっちのアイコン" class="h-12 w-12">
                <a th:href="@{/}" class="mx-3 sm:text-title font-extrabold text-xl">たびすけっち</a>
            </div>
            <!-- ハンバーガーメニュー (sm未満で表示) -->
            <button class="tham tham-e-squeeze tham-w-6 sm:hidden z-40">
                <div class="tham-box">
                    <div class="tham-inner"></div>
                </div>
            </button>
            <!-- ナビゲーションメニュー -->
            <ul class="text-base items-center justify-around hidden sm:flex" id="nav-menu">
                <!-- ログイン状態に応じた表示 -->
                <li class="mx-1 xl:mx-3" sec:authorize="isAuthenticated()"><a th:href="@{/plan/list}">プラン一覧</a></li>
                <li class="mx-1 xl:mx-3" sec:authorize="isAuthenticated()"><a th:href="@{/plan/create}">プラン作成</a></li>
                <li class="mx-1 xl:mx-3" sec:authorize="isAuthenticated()"><a th:href="@{/user/edit}">アカウント編集</a></li>
                <li class="mx-1 xl:mx-3" sec:authorize="isAnonymous()"><a th:href="@{/login}" class="button-primary">ログイン</a></li>
                <li class="mx-1 xl:mx-3" sec:authorize="isAnonymous()"><a th:href="@{/register}" class="button-primary">新規登録</a></li>
                <li class="mx-1 xl:mx-3" sec:authorize="isAuthenticated()">
                    <form th:action="@{/logout}" method="post">
                        <button type="submit" class="button-primary">ログアウト</button>
                    </form>
                </li>
            </ul>
        </nav>
        <!-- ハンバーガーメニュー用のメニュー (sm未満で表示) -->
        <ul class="fixed top-0 right-0 h-full w-1/2 bg-white flex-col border-l-2 border-b-2 text-center space-y-10 z-30 hidden text-base" id="mobile-menu">
            <li class="mb-20"></li>
            <li sec:authorize="isAuthenticated()"><a th:href="@{/plan/list}">プラン一覧</a></li>
            <li sec:authorize="isAuthenticated()"><a th:href="@{/plan/create}">プラン作成</a></li>
            <li sec:authorize="isAuthenticated()"><a th:href="@{/user/edit}">アカウント編集</a></li>
            <li sec:authorize="isAnonymous()"><a th:href="@{/login}">ログイン</a></li>
            <li sec:authorize="isAnonymous()"><a th:href="@{/register}">新規登録</a></li>
            <li sec:authorize="isAuthenticated()">
                <form th:action="@{/logout}" method="post">
                    <button type="submit">ログアウト</button>
                </form>
            </li>
        </ul>
    </header>
</th:block>
</body>
</html>
